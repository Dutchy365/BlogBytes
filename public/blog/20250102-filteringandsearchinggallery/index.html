<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="http://www.burgersandbytes.nl" rel="canonical" />

  <link rel="icon" href="favicon.png">

  <title>
  Filter and search data in a gallery - Burgers &amp; Bytes
  </title>
  <meta name="description" content="Multiple filters and search options explained" /><meta name="generator" content="Hugo 0.128.2">
  <link rel="stylesheet" href="/css/styles.css" />
  
  

  <meta property="og:title" content="Filter and search data in a gallery" />
<meta property="og:description" content="Multiple filters and search options explained" />
<meta property="og:type" content="article" />
<meta property="og:url" content="//aseURL:1313/blog/20250102-filteringandsearchinggallery/" /><meta property="og:image" content="//aseURL:1313/00Filtersearch.png" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2025-01-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-01-02T00:00:00+00:00" />


  
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="//aseURL:1313/00Filtersearch.png">
  <meta name="twitter:title" content="Filter and search data in a gallery">
  <meta name="twitter:description" content="Multiple filters and search options explained">

  
  <meta itemprop="name" content="Filter and search data in a gallery">
  <meta itemprop="description" content="Multiple filters and search options explained">
  <meta itemprop="datePublished" content="2025-01-02T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-01-02T00:00:00+00:00">
  <meta itemprop="wordCount" content="580">
  <meta itemprop="image" content="//aseURL:1313/00Filtersearch.png">
  <meta itemprop="keywords" content="Power Apps,Gallery,Filtering,Search,Combobox">

 

  

  
</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="//aseURL:1313/" class="capitalize font-extrabold text-2xl">
    
    <img src="/logo.png" alt="Burgers &amp; Bytes" class="max-w-full" style="height:75px" />
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">

    
    <li><a href="/">Home</a></li>
    
    <li><a href="/blog/">Blog</a></li>
    
    <li><a href="/page/about/">About</a></li>
    

    

    
    <li class="grid place-items-center">
      <span class="open-search inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </li>
    

    
  </ul>
</header>
<main class="flex-1">
  
  

  
  
    <div class="relative max-w-xl mx-auto px-4">
    <img src="/images/20250102FilteringSearching/00Filtersearch.png" class="rounded-lg shadow-sm w-full object-contain" />
    
    <div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">
      
  
    January 2, 2025
  


    </div>
    
  </div>
  

  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

    <h1 class="text-2xl font-bold mb-2">Filter and search data in a gallery</h1>
    
    <h5 class="text-sm flex items-center flex-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Jan 2, 2025 
      
        &nbsp;&bull;&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      3&nbsp;
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      580&nbsp;
      
        
      
    </h5>
    

    <details id="TableOfContents" class="px-4 mt-4 bg-gray-100 dark:bg-gray-700 rounded toc">
    <summary class="flex items-center font-bold py-2 px-4 cursor-pointer justify-between select-none text-black dark:text-white">
      <span>Table of contents</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <polyline points="6 9 12 15 18 9"></polyline>
     </svg>
    </summary>

    <ul class="mt-2 pb-4">
        

        
        <li>
        <a href="#scenario">Scenario</a>
        

        
        </li><li>
        <a href="#end-result">End result</a>
        

        
        </li><li>
        <a href="#setup">Setup</a>
        

        
        <ul>
            <li>
        <a href="#single-selected-filters">Single selected filters</a>
        

        
        </li><li>
        <a href="#multi-selected-filters">Multi selected filters</a>
        

        
        </li></ul>
      </li><li>
        <a href="#result">Result</a>
        </li></ul>
  </details>

    <h2 id="scenario">Scenario</h2>
<p>One of the features often used in Power Apps is the gallery, which typically requires filtering and search functionality. Initially, you might set up a gallery with just two filters and a search box. However, as you continue developing, end-users often request additional filtering options. Time and time again, I found it challenging to easily implement these extra filters. That&rsquo;s when I realized it was time to document my approach; hopefully, you can benefit from it too.</p>
<h2 id="end-result">End result</h2>
<p>The end result contains of a gallery and multiple comboboxes and a searchbox to filter the data on.</p>
<p><img src="/images/20250102FilteringSearching/endresult.gif" alt="endresult"></p>
<h2 id="setup">Setup</h2>
<p>In this scenario there is a table with application records with multiple lookup columns.
To easily filter on the values of lookup columns the AddColumns is used to add columns with the specific lookup value.</p>
<p>Comboboxes are added to be able to filter the data and a text input to enter the search query.</p>
<p><img src="/images/20250102FilteringSearching/filters.png" alt="filters"></p>
<h3 id="single-selected-filters">Single selected filters</h3>
<p>To filter the data based on a single selection in the comboboxes the following PowerFx can be applied.</p>
<p><img src="/images/20250102FilteringSearching/singleselect.png" alt="single select"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>Sort(
</span></span><span style="display:flex;"><span>    With({ActiveItems: AddColumns(Applications, &#39;Status application&#39;, &#39;Application Status&#39;.&#39;Status Name&#39;, &#39;Approved by&#39;,ApprovalBy.&#39;Full Name&#39;, &#39;Faculty name&#39;, Faculty.&#39;Faculty Name&#39;) },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Filter(ActiveItems, 
</span></span><span style="display:flex;"><span>                  (IsBlank(cmbStatus.Selected.&#39;Status Name&#39;) || &#39;Status application&#39; in cmbStatus.Selected.&#39;Status Name&#39;) &amp;&amp;
</span></span><span style="display:flex;"><span>                  (IsBlank(cmbFilterFaculty.Selected.&#39;Faculty Name&#39;) || &#39;Faculty name&#39; = cmbFilterFaculty.Selected.&#39;Faculty Name&#39;) &amp;&amp;
</span></span><span style="display:flex;"><span>                  (IsBlank(cmbFilterApprovedBy.Selected.Value) || &#39;Approved by&#39; = cmbFilterApprovedBy.Selected.Value) &amp;&amp;
</span></span><span style="display:flex;"><span>                  (IsBlank(cmbFilterType.Selected.&#39;Application Type&#39;) || Type.&#39;Type Name&#39; = cmbFilterType.Selected.&#39;Type Name&#39;)
</span></span><span style="display:flex;"><span>           &amp;&amp;
</span></span><span style="display:flex;"><span>            (
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in &#39;Application Title&#39; || 
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in Status ||
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in &#39;Approved by&#39; ||
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in &#39;Faculty name&#39;||
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in Case
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    ), 
</span></span><span style="display:flex;"><span>    &#39;Created On&#39;, If(SortModified, SortOrder.Ascending, SortOrder.Descending)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>If no selection is made (IsBlank), no filter will be applied to that field, so all records will be shown.</p>
<h3 id="multi-selected-filters">Multi selected filters</h3>
<p>On the comboboxes the multi select can be set on true, therefor the PowerFx needs to be adjusted to work with multiple filter values.</p>
<p>To allow for multiple selections in the combobox (for example cmbStatus), you&rsquo;ll need to adjust the formula so it checks if any of the selected values in the cmbStatus dropdown are present in the &lsquo;Status application&rsquo; field for each record.</p>
<p>In Power Fx, if you want to handle multiple selections in a ComboBox (like cmbStatus), you can use the <code>in</code> operator combined with the .SelectedItems property of the ComboBox, which contains a list of selected values.</p>
<p><img src="/images/20250102FilteringSearching/multiselect.png" alt="multiselect"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>Sort(
</span></span><span style="display:flex;"><span>    With(
</span></span><span style="display:flex;"><span>        {ActiveItems: AddColumns(
</span></span><span style="display:flex;"><span>            Applications, 
</span></span><span style="display:flex;"><span>            &#39;Status application&#39;, 
</span></span><span style="display:flex;"><span>            &#39;Application Status&#39;.&#39;Status Name&#39;, 
</span></span><span style="display:flex;"><span>            &#39;Approved by&#39;, ApprovalBy.&#39;Full Name&#39;, 
</span></span><span style="display:flex;"><span>            &#39;Faculty name&#39;, Faculty.&#39;Faculty Name&#39;
</span></span><span style="display:flex;"><span>        )},
</span></span><span style="display:flex;"><span>        Filter(
</span></span><span style="display:flex;"><span>            ActiveItems, 
</span></span><span style="display:flex;"><span>            (IsBlank(cmbStatus.SelectedItems) || CountRows(cmbStatus.SelectedItems) = <span style="color:#bd93f9">0</span> || &#39;Status application&#39; in cmbStatus.SelectedItems.&#39;Status Name&#39;) &amp;&amp;
</span></span><span style="display:flex;"><span>            (IsBlank(cmbFilterFaculty.Selected.&#39;Faculty Name&#39;) || CountRows(cmbFilterFaculty.SelectedItems) = <span style="color:#bd93f9">0</span> || &#39;Faculty name&#39; in cmbFilterFaculty.SelectedItems.&#39;Faculty Name&#39;) &amp;&amp;   
</span></span><span style="display:flex;"><span>            (IsBlank(cmbFilterApprovedBy.Selected.Value) || CountRows(cmbFilterApprovedBy.SelectedItems) = <span style="color:#bd93f9">0</span> || &#39;Approved by&#39; in cmbFilterApprovedBy.Selected.Value) &amp;&amp;           
</span></span><span style="display:flex;"><span>            (IsBlank(cmbFilterType.SelectedItems) || CountRows(cmbFilterType.SelectedItems) = <span style="color:#bd93f9">0</span> || Type.&#39;Type Name&#39; in cmbFilterType.SelectedItems.&#39;Type Name&#39;)             
</span></span><span style="display:flex;"><span>            &amp;&amp;         
</span></span><span style="display:flex;"><span>            (
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in &#39;Application Title&#39; || 
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in Status ||
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in &#39;Approved by&#39; ||
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in &#39;Faculty name&#39; ||
</span></span><span style="display:flex;"><span>                txtSearchInput.Text in Case
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    ), 
</span></span><span style="display:flex;"><span>    &#39;Created On&#39;, 
</span></span><span style="display:flex;"><span>    If(SortModified, SortOrder.Ascending, SortOrder.Descending)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><h2 id="result">Result</h2>
<p>If nothing is selected, it will not filter records and all records will be displayed. If selections are made, it filters based on those selected values.
This ensures that if a ComboBox is left empty, it behaves as if no filter is applied, and all records are shown for that field.
The same applies for the search input, if empty no filter is applied, if populated the value is search in selected columns.</p>
<p>This way you can easily and flexible filter the data and when there is a request to add a new filter, this can be implemented quickly.</p>

  </article>

  
<div class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">
  
  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'burgersandbytes';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



  
  
</div>

<div style="background: #92400E;">
  <div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
    <div>
      <div class="text-3xl font-bold mb-2">Empowering productivity - one blog at a time!</div>
      <p class="opacity-60"></p>
    </div>

    <ul class="flex justify-center gap-x-3 flex-wrap gap-y-2">
      

      
      <li>
        <a href="https://twitter.com/elianne_tweets" target="_blank" rel="noopener" aria-label="Twitter"
          class="p-1 inline-block rounded-full border border-transparent hover:border-black cursor-pointer transition-colors dark:hover:border-black">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1668.56 1221.19" width="24" height="24"
            stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">

            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M283.94,167.31l386.39,516.64L281.5,1104h87.51l340.42-367.76L984.48,1104h297.8L874.15,558.3l361.92-390.99
  h-87.51l-313.51,338.7l-253.31-338.7H283.94z M412.63,231.77h136.81l604.13,807.76h-136.81L412.63,231.77z" />

          </svg>
        </a>
      </li>
      

      

      


      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
      <li>
        <a href="https://nl.linkedin.com/in/elianne-b-48946864" target="_blank" rel="noopener" aria-label="LinkedIn"
          class="p-1 inline-block rounded-full border border-transparent hover:border-black cursor-pointer transition-colors dark:hover:border-black">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <rect x="4" y="4" width="16" height="16" rx="2" />
            <line x1="8" y1="11" x2="8" y2="16" />
            <line x1="8" y1="8" x2="8" y2="8.01" />
            <line x1="12" y1="16" x2="12" y2="11" />
            <path d="M16 16v-3a2 2 0 0 0 -4 0" />
          </svg>
        </a>
      </li>
      


      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      


      
      <li>
        <a href="https://www.burgersandbytes.nl/index.xml" target="_blank" rel="noopener" aria-label="rss"
          class="p-1 inline-block rounded-full border border-transparent hover:border-black cursor-pointer transition-colors dark:hover:border-black">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="-125 -100 712 712" width="24" height="24"
          stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">

          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
  <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z"/>
<path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z"/>
<path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z"/>
        </svg>

        


        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
    </ul>
  </div>
</div>
    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2024 - Elianne Burgers · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none"  stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12"  />
    </svg>
  </span>
</footer>

<div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-800 hidden">
  <div class="container max-w-3xl mx-auto p-12">
    <div class="relative">
      <div class="my-4 text-center text-2xl font-bold">Search</div>

      <span class="p-2 absolute right-0 top-0 cursor-pointer close-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </span>
    </div>

    <input type="search" class="py-2 px-3 w-full dark:text-black border dark:border-transparent"
      placeholder="Enter search query" />

    <div class="search-results text-lg font-medium my-4 hidden">Results</div>
    <ul class="search-list my-2">

    </ul>

    <div class="no-results text-center my-8 hidden">
      <div class="text-xl font-semibold mb-2">No results found</div>
      <p class="font-light text-sm">Try adjusting your search query</p>
    </div>
  </div>
</div>





<script src="//aseURL:1313/js/scripts.min.js"></script>


  







<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
